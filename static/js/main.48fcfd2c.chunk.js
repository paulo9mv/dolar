(this.webpackJsonpmysuperapp=this.webpackJsonpmysuperapp||[]).push([[0],{183:function(e,a,t){e.exports=t(299)},188:function(e,a,t){},189:function(e,a,t){},195:function(e,a,t){},295:function(e,a,t){},299:function(e,a,t){"use strict";t.r(a);var o=t(0),r=t.n(o),n=t(19),l=t.n(n),i=(t(188),t(189),t(302)),m=t(303),s=t(59),c=t(113),u=Object(c.b)({name:"api",initialState:{dolarEmReal:0,dolarSemImposto:0,dolarComImposto:0,realSemImposto:0,realComImposto:0,ultimaAtualizacao:"",iof:0,hasSubmittedData:!1,hasError:!1,isFetching:!1,isWaiting:!1},reducers:{setNewValues:function(e,a){try{var t=a.payload.res;e.dolarEmReal=parseFloat(t.USD.ask),e.ultimaAtualizacao=t.USD.create_date,e.hasError=!1}catch(o){e.hasError=!0}},setValues:function(e,a){var t=a.payload;e.iof=a.payload.iof,e.dolarSemImposto=t.dolarSemImposto,e.dolarComImposto=t.dolarComImposto,e.realSemImposto=e.dolarComImposto*e.dolarEmReal,e.realComImposto=e.realSemImposto*(1+t.iof),e.isWaiting=!0},setFetching:function(e,a){e.isFetching=!0},setSubmitted:function(e,a){e.hasSubmittedData=!0,e.isWaiting=!1}}}),d=function(e){return function(a){var t=e.dolar?parseFloat(e.dolar.toString()):0,o=e.taxa?e.taxa/100:0,r=t+t*o,n=e.iof?1.1/100:.064;a(E({dolarSemImposto:t,taxa:o,dolarComImposto:r,iof:n})),setTimeout((function(){a(v({}))}),300)}},p=u.actions,f=p.setNewValues,E=p.setValues,h=p.setFetching,v=p.setSubmitted,b=function(e){return{dolarEmReal:e.api.dolarEmReal,dolarSemImposto:e.api.dolarSemImposto,dolarComImposto:e.api.dolarComImposto,realSemImposto:e.api.realSemImposto,realComImposto:e.api.realComImposto,iof:e.api.iof}},g=function(e){return{ultimaAtualizacao:e.api.ultimaAtualizacao,hasError:e.api.hasError,hasSubmittedData:e.api.hasSubmittedData,isWaiting:e.api.isWaiting}},I=u.reducer,x=t(129),S=t.n(x),y=t(152),C=t(304),F=t(305),D=t(306),j=t(177),z=t(176),w=t(119),R=t(307),W=(t(195),function(){var e=Object(s.b)();function a(){return(a=Object(y.a)(S.a.mark((function a(t){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(d(t));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var t=w.b().shape({dolar:w.a().typeError("Por favor, informe um valor").positive("Por favor, informe um valor positivo").required("Por favor, informe o valor do produto"),taxa:w.a().typeError("Por favor, informe uma taxa").positive("Por favor, informe uma taxa positiva").required("Por favor, informe o valor da taxa")});return r.a.createElement(z.a,{enableReinitialize:!0,initialValues:{dolar:void 0,taxa:void 0,iof:!1},onSubmit:function(e){return a.apply(this,arguments)},validationSchema:t},(function(e){var a=e.values,t=e.setFieldValue,o=e.errors,n=e.touched,l=e.handleSubmit;return r.a.createElement(C.a,{layout:"vertical",onFinish:l},r.a.createElement(C.a.Item,{label:"Valor do produto",required:!0,validateStatus:o.dolar&&n.dolar?"error":void 0,className:"teste",help:n.dolar&&o.dolar},r.a.createElement(F.a,{addonBefore:"U$",placeholder:"Em d\xf3lares",value:a.dolar,onChange:function(e){return t("dolar",e.target.value)}})),r.a.createElement(C.a.Item,{label:"Taxa do estado americano",required:!0,validateStatus:o.taxa&&n.taxa?"error":void 0,help:n.taxa&&o.taxa},r.a.createElement(F.a,{addonAfter:"%",placeholder:"Taxa do produto",value:a.taxa,onChange:function(e){return t("taxa",e.target.value)}})),r.a.createElement(C.a.Item,{label:"Forma de pagamento",tooltip:{title:"Cart\xe3o: 6,4% IOF. Dinheiro: 1,1% IOF.",icon:r.a.createElement(R.a,null)}},r.a.createElement(D.a.Group,{onChange:function(e){return t("iof",e.target.value)},value:a.iof},r.a.createElement(D.a,{value:!1},"Cart\xe3o"),r.a.createElement(D.a,{value:!0},"Dinheiro"))),r.a.createElement(j.a,{htmlType:"submit",type:"primary"},"Calcular"))}))}),O=(t(150),t(295),t(301)),P=function(e){var a=e.data;return e.isWaiting?r.a.createElement(O.a,{size:"large"}):r.a.createElement("div",null,r.a.createElement(i.a,null,"IOF: ",100*a.iof,"%"),r.a.createElement(i.a,null,"D\xf3lar sem imposto: ",a.dolarSemImposto.toFixed(2)),r.a.createElement(i.a,null,"Dolar com imposto: ",a.dolarComImposto.toFixed(2)),r.a.createElement(i.a,null,"Real sem imposto: ",a.realSemImposto.toFixed(2)),r.a.createElement(i.a,null,"Real com imposto: ",a.realComImposto.toFixed(2)))},A=function(e){return e.isWaiting?r.a.createElement(O.a,{size:"large"}):r.a.createElement(m.a,null,"Preencha os dados para mais detalhes.")},V={rowBaseline:{display:"flex",alignItems:"baseline",justifyContent:"center"},smallFont:{fontSize:16},bigFont:{fontSize:40}};function N(){var e=Object(s.b)(),a=Object(s.c)(b),t=Object(s.c)(g);return Object(o.useEffect)((function(){e((function(e){e(h(!0)),fetch("https://economia.awesomeapi.com.br/all/USD-BRL").then((function(e){return e.json()})).then((function(a){return e(f({res:a}))})).catch((function(e){return console.log(e)})).finally((function(){return e(h(!1))}))}))}),[e]),r.a.createElement("div",{className:"mainPage",style:{width:"60%",height:"700px"}},r.a.createElement(i.a,null,r.a.createElement(m.a,{span:8,offset:8},"Cota\xe7\xe3o do dia")),r.a.createElement("div",{className:"baseline"},r.a.createElement("div",{style:V.bigFont},"1"),"USD","\u2194\ufe0f",r.a.createElement("div",{style:V.bigFont},a.dolarEmReal.toFixed(2)),"BRL"),r.a.createElement("div",{style:V.smallFont},"\xdaltima atualiza\xe7\xe3o: ",t.ultimaAtualizacao),r.a.createElement(i.a,null,r.a.createElement(m.a,{span:8,offset:8},r.a.createElement(W,null))),r.a.createElement(i.a,{justify:"center"},r.a.createElement(m.a,null,t.hasSubmittedData?r.a.createElement(P,{data:a,isWaiting:t.isWaiting}):r.a.createElement(A,{isWaiting:t.isWaiting}))))}var k=function(){return r.a.createElement("div",{style:{position:"fixed",top:0,display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",height:"40",backgroundColor:"rgba(255, 255, 255, 1)",borderBottom:"1px solid rgba(0, 0, 0, 1)",fontWeight:"bold",padding:"0px 20px",boxSizing:"border-box"}},r.a.createElement("span",null,"\ud83d\udcb1"),"D\xf3lar - Real",r.a.createElement("span",null,"\ud83d\udcb2"))},B={display:"flex",alignItems:"stretch",width:"100%",height:50,backgroundColor:"#333",color:"#fff",position:"fixed",bottom:0},U=function(){return r.a.createElement("div",{style:B},r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1}},r.a.createElement("span",{style:{fontSize:20}},"\ud83d\udcbb"," Made by Paulo Viana")))};var q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(k,null),r.a.createElement(N,null),r.a.createElement(U,null)))},T=Object(c.a)({reducer:{api:I}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:T},r.a.createElement(q,null))),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.48fcfd2c.chunk.js.map