(this.webpackJsonpdolar=this.webpackJsonpdolar||[]).push([[0],{182:function(e,a,t){e.exports=t(303)},187:function(e,a,t){},188:function(e,a,t){},194:function(e,a,t){},294:function(e,a,t){},298:function(e,a,t){},300:function(e,a,t){},301:function(e,a,t){},302:function(e,a,t){},303:function(e,a,t){"use strict";t.r(a);var o=t(0),r=t.n(o),n=t(19),l=t.n(n),i=(t(187),t(188),t(306)),m=t(307),c=t(59),s=t(113),u=Object(s.b)({name:"api",initialState:{dolarEmReal:0,dolarSemImposto:0,dolarComImposto:0,realSemImposto:0,realComImposto:0,ultimaAtualizacao:"",iof:0,hasSubmittedData:!1,hasError:!1,isFetching:!1,isLoading:!1},reducers:{setNewValues:function(e,a){try{var t=a.payload.res;e.dolarEmReal=parseFloat(t.USD.ask),e.ultimaAtualizacao=t.USD.create_date,e.hasError=!1}catch(o){e.hasError=!0}},setValues:function(e,a){var t=a.payload;e.iof=a.payload.iof,e.dolarSemImposto=t.dolarSemImposto,e.dolarComImposto=t.dolarComImposto,e.realSemImposto=e.dolarComImposto*e.dolarEmReal,e.realComImposto=e.realSemImposto*(1+t.iof),e.isLoading=!0},setFetching:function(e,a){e.isFetching=!0},setSubmitted:function(e,a){e.hasSubmittedData=!0,e.isLoading=!1}}}),d=function(e){return function(a){var t=e.dolar?parseFloat(e.dolar.toString()):0,o=e.taxa?e.taxa/100:0,r=t+t*o,n=e.iof?1.1/100:.064;a(E({dolarSemImposto:t,taxa:o,dolarComImposto:r,iof:n})),setTimeout((function(){a(h({}))}),300)}},p=u.actions,f=p.setNewValues,E=p.setValues,v=p.setFetching,h=p.setSubmitted,b=function(e){return{dolarEmReal:e.api.dolarEmReal,dolarSemImposto:e.api.dolarSemImposto,dolarComImposto:e.api.dolarComImposto,realSemImposto:e.api.realSemImposto,realComImposto:e.api.realComImposto,iof:e.api.iof}},I=function(e){return{ultimaAtualizacao:e.api.ultimaAtualizacao,hasError:e.api.hasError,hasSubmittedData:e.api.hasSubmittedData,isLoading:e.api.isLoading}},S=u.reducer,g=t(129),x=t.n(g),y=t(151),C=t(308),F=t(309),j=t(310),D=t(176),R=t(175),L=t(119),N=t(311),O=(t(194),function(){var e=Object(c.b)();function a(){return(a=Object(y.a)(x.a.mark((function a(t){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(d(t));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var t=L.b().shape({dolar:L.a().typeError("Por favor, informe um valor").positive("Por favor, informe um valor positivo").required("Por favor, informe o valor do produto"),taxa:L.a().typeError("Por favor, informe uma taxa").positive("Por favor, informe uma taxa positiva").required("Por favor, informe o valor da taxa")});return r.a.createElement(R.a,{enableReinitialize:!0,initialValues:{dolar:void 0,taxa:void 0,iof:!1},onSubmit:function(e){return a.apply(this,arguments)},validationSchema:t},(function(e){var a=e.values,t=e.setFieldValue,o=e.errors,n=e.touched,l=e.handleSubmit;return r.a.createElement(C.a,{layout:"vertical",onFinish:l},r.a.createElement(C.a.Item,{label:"Valor do produto",required:!0,validateStatus:o.dolar&&n.dolar?"error":void 0,className:"teste",help:n.dolar&&o.dolar},r.a.createElement(F.a,{addonBefore:"U$",placeholder:"Em d\xf3lares",value:a.dolar,onChange:function(e){return t("dolar",e.target.value)}})),r.a.createElement(C.a.Item,{label:"Taxa do estado americano",required:!0,validateStatus:o.taxa&&n.taxa?"error":void 0,help:n.taxa&&o.taxa},r.a.createElement(F.a,{addonAfter:"%",placeholder:"Taxa do produto",value:a.taxa,onChange:function(e){return t("taxa",e.target.value)}})),r.a.createElement(C.a.Item,{label:"Forma de pagamento",tooltip:{title:"Cart\xe3o: 6,4% IOF. Dinheiro: 1,1% IOF.",icon:r.a.createElement(N.a,null)}},r.a.createElement(j.a.Group,{onChange:function(e){return t("iof",e.target.value)},value:a.iof},r.a.createElement(j.a,{value:!1},"Cart\xe3o"),r.a.createElement(j.a,{value:!0},"Dinheiro"))),r.a.createElement(D.a,{htmlType:"submit",type:"primary"},"Calcular"))}))}),z=t(305),P=(t(294),function(e){var a=e.data;return e.isLoading?r.a.createElement(z.a,{size:"large"}):r.a.createElement("div",{className:"content"},r.a.createElement(i.a,{justify:"center"},"IOF: ",100*a.iof,"%"),r.a.createElement(i.a,{justify:"center"},"D\xf3lar sem imposto: U$",a.dolarSemImposto.toFixed(2)),r.a.createElement(i.a,{justify:"center"},"Dolar com imposto: U$",a.dolarComImposto.toFixed(2)),r.a.createElement(i.a,{justify:"center"},"Real sem imposto: R$",a.realSemImposto.toFixed(2)),r.a.createElement(i.a,{justify:"center"},"Real com imposto: R$",a.realComImposto.toFixed(2)))}),A=(t(298),function(e){return e.isLoading?r.a.createElement(z.a,{size:"large"}):r.a.createElement(m.a,{className:"default-info"},"Preencha os dados para mais detalhes.")});t(299),t(300);function V(){var e=Object(c.b)(),a=Object(c.c)(b),t=Object(c.c)(I);return Object(o.useEffect)((function(){e((function(e){e(v(!0)),fetch("https://economia.awesomeapi.com.br/all/USD-BRL").then((function(e){return e.json()})).then((function(a){return e(f({res:a}))})).catch((function(e){return console.log(e)})).finally((function(){return e(v(!1))}))}))}),[e]),r.a.createElement("div",{className:"mainPage"},r.a.createElement(i.a,null,r.a.createElement(m.a,{span:8,offset:8},"Cota\xe7\xe3o do dia")),r.a.createElement("div",{className:"baseline"},r.a.createElement("div",null,"1"),"USD","\u2194\ufe0f",r.a.createElement("div",null,a.dolarEmReal.toFixed(2)),"BRL"),r.a.createElement("div",{className:"update-time"},"\xdaltima atualiza\xe7\xe3o: ",t.ultimaAtualizacao),r.a.createElement(i.a,null,r.a.createElement(m.a,{md:{offset:8,span:8},xs:{offset:6,span:12},offset:6},r.a.createElement(O,null))),r.a.createElement(i.a,{justify:"center",gutter:[4,36]},r.a.createElement(m.a,null,t.hasSubmittedData?r.a.createElement(P,{data:a,isLoading:t.isLoading}):r.a.createElement(A,{isLoading:t.isLoading}))))}t(301);var w=function(){return r.a.createElement("div",{className:"topbar"},r.a.createElement("span",null,"\ud83d\udcb1"),"D\xf3lar - Real",r.a.createElement("span",null,"\ud83d\udcb2"))},U=(t(302),function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"footer-center"},r.a.createElement("span",{className:"about"},"\ud83d\udcbb"," Made by Paulo Viana")))});var $=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(w,null),r.a.createElement(V,null),r.a.createElement(U,null)))},k=Object(s.a)({reducer:{api:S}});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:k},r.a.createElement($,null))),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.ebc219a1.chunk.js.map